{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formEl = document.querySelector('.feedback-form');\nlet formData = {\n  email: \"\",\n  message: \"\",\n};\n\n\n// action with localStorage\nconst saveToLS = (key, data) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(data));\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst loadFromLS = (key) => {\n  try {\n    const loadData = localStorage.getItem(key);\n\n    return loadData === null ? undefined : JSON.parse(loadData);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\n// fill form`s fields\nconst fillFormInput = () => {\n  const formDataFromLS = loadFromLS('feedback-form-state');\n\n  if(formDataFromLS === undefined) {\n    return;\n  }\n\n  formData = formDataFromLS;\n  for(const key in formDataFromLS){\n    formEl.elements[key].value = formDataFromLS[key];\n  }\n}\nfillFormInput();\n\n// Event for form\nconst onFormFieldInput = evt => {\n  const { target: { name , value } } = evt;\n\n  formData[name] = value.trim();\n  saveToLS(\"feedback-form-state\", formData);\n};\n\nconst onFeedbackFormSubmit = evt => {\n  evt.preventDefault();\n\n  const {\n    elements: {\n      email: { value: { length: emailLength } },\n      message: { value: { length: messageLength } } }\n    } = formEl;\n\n  if(emailLength > 0 & messageLength > 0) {\n    console.log(formData);\n    formEl.reset();\n    formData = {email: \"\", message: \"\"};\n    localStorage.removeItem(\"feedback-form-state\");\n  }\n};\n\nformEl.addEventListener('input', onFormFieldInput);\nformEl.addEventListener('submit', onFeedbackFormSubmit);"],"names":["formEl","formData","saveToLS","key","data","err","loadFromLS","loadData","fillFormInput","formDataFromLS","onFormFieldInput","evt","name","value","onFeedbackFormSubmit","emailLength","messageLength"],"mappings":"wFAAA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EACtD,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAIA,MAAMC,EAAW,CAACC,EAAKC,IAAS,CAC9B,GAAI,CACF,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAC/C,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEMC,EAAcH,GAAQ,CAC1B,GAAI,CACF,MAAMI,EAAW,aAAa,QAAQJ,CAAG,EAEzC,OAAOI,IAAa,KAAO,OAAY,KAAK,MAAMA,CAAQ,CAC3D,OAAQF,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAGMG,EAAgB,IAAM,CAC1B,MAAMC,EAAiBH,EAAW,qBAAqB,EAEvD,GAAGG,IAAmB,OAItB,CAAAR,EAAWQ,EACX,UAAUN,KAAOM,EACfT,EAAO,SAASG,CAAG,EAAE,MAAQM,EAAeN,CAAG,EAEnD,EACAK,IAGA,MAAME,EAAmBC,GAAO,CAC9B,KAAM,CAAE,OAAQ,CAAE,KAAAC,EAAO,MAAAC,CAAO,CAAA,EAAKF,EAErCV,EAASW,CAAI,EAAIC,EAAM,KAAI,EAC3BX,EAAS,sBAAuBD,CAAQ,CAC1C,EAEMa,EAAuBH,GAAO,CAClCA,EAAI,eAAc,EAElB,KAAM,CACJ,SAAU,CACR,MAAO,CAAE,MAAO,CAAE,OAAQI,CAAW,CAAI,EACzC,QAAS,CAAE,MAAO,CAAE,OAAQC,CAAe,CAAA,CAAI,CAChD,EAAGhB,EAEHe,EAAc,EAAIC,EAAgB,IACnC,QAAQ,IAAIf,CAAQ,EACpBD,EAAO,MAAK,EACZC,EAAW,CAAC,MAAO,GAAI,QAAS,EAAE,EAClC,aAAa,WAAW,qBAAqB,EAEjD,EAEAD,EAAO,iBAAiB,QAASU,CAAgB,EACjDV,EAAO,iBAAiB,SAAUc,CAAoB"}